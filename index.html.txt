<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>SFC PP管理ノリ</title>
<style>
body { font-family: sans-serif; padding:20px; background:#f5f5f5; }
.card { background:#fff; padding:20px; border-radius:12px; margin-bottom:20px; box-shadow:0 2px 8px rgba(0,0,0,0.1);}
select,input,button { padding:8px; margin:5px 0; width:100%; }
button { background:#005BAC; color:white; border:none; border-radius:8px; font-weight:bold;}
.result { font-size:18px; font-weight:bold; margin-top:10px;}
</style>
</head>

<body>

<h1>SFC PP管理ノリ</h1>

<div class="card">
<h2>旅行計画（自由入力OK）</h2>

出発
<input id="from" value="HND">

到着
<input id="to" value="OKA">

運賃種別
<select id="rate">
<option value="0.75">S（75%）</option>
<option value="1.0">普通運賃（100%）</option>
<option value="1.25">プレミアム（125%）</option>
</select>

価格（往復合計）
<input id="price" type="number" value="21840">

区間
<select id="type">
<option value="round">往復</option>
<option value="oneway">片道</option>
</select>

<button onclick="calcPP()">想定PPを計算</button>

<div class="result" id="output"></div>
</div>

<script>

// 距離データ（ANA公式区間基本マイル）
const distance = {
"HND-OKA":984,
"HND-CTS":510,
"HND-FUK":567,
"HND-KOJ":601,
"HND-KMI":550,
"HND-NGS":594,
"HND-HIJ":414,
"HND-OKJ":327
};

function calcPP(){

let from = document.getElementById("from").value.toUpperCase();
let to = document.getElementById("to").value.toUpperCase();
let rate = parseFloat(document.getElementById("rate").value);
let price = parseFloat(document.getElementById("price").value);
let type = document.getElementById("type").value;

let key = from + "-" + to;

if(!distance[key]){
document.getElementById("output").innerHTML = "距離データ未登録";
return;
}

let baseMiles = distance[key];

// 国内線PP計算式
// (区間マイル × 積算率) ＋ 400PP（普通席）
// プレミアムでも国内線は基本+400

let oneWayPP = (baseMiles * rate) + 400;

let totalPP = (type === "round") ? oneWayPP * 2 : oneWayPP;

totalPP = Math.floor(totalPP);

let unit = (price && totalPP) ? (price / totalPP).toFixed(1) : 0;

document.getElementById("output").innerHTML =
"想定PP： " + totalPP + " / PP単価： " + unit;

}

</script>

</body>
</html>